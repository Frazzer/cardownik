<ion-header>
  <ion-toolbar>
    <ion-title>Dodawanie karty</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="cancel()">
        <ion-icon name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="content-center ion-padding ion-margin">
  <ion-list content="full" class="cardStyle">
    <ion-grid>
      <ion-row>
        <ion-col>
          <ion-header class="ion-margin-horizontal">Wprowadź dane do formularza</ion-header>
        </ion-col>
      </ion-row>
      <form [formGroup]="cardForm">
        <ion-row>
          <ion-col>
            <ion-item lines="none">
              <ion-label position="floating">Nazwa sklepu</ion-label>
              <ion-input
                type="text"
                placeholder="Wprowadź nazwę sklepu"
                formControlName="shopName"
                clearInput
                required
              ></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center">
          <ion-col size="10">
            <ion-item lines="none">
              <ion-label position="floating">Treść kodu kreskowego / barcodu</ion-label>
              <ion-input
                type="text"
                placeholder="Wprowadź wartość kodu kreskowego"
                formControlName="barcode"
              ></ion-input>
            </ion-item>
          </ion-col>
          <ion-col size="2">
            <div class="qrcodeImage content-center">
              <qrcode
                [qrdata]="this.cardForm.controls.barcode.value || ''"
                [allowEmptyString]="true"
                [cssClass]="'qrcode'"
                [colorDark]="'#0c0c0c'"
                [colorLight]="'#ffffff'"
                [elementType]="'svg'"
                [errorCorrectionLevel]="'M'"
                [margin]="2"
                [width]="50"
              ></qrcode>
            </div>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <ion-item lines="none">
              <ion-label position="floating">Lokalizacja sklepu</ion-label>
              <ion-input
                type="text"
                placeholder="Wprowadź adres sklepu"
                formControlName="shopLocalization"
                clearInput
                required
              ></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="6">
            <ion-button
              expand="block"
              color="medium"
              (click)="cancel()"
            >Anuluj
            </ion-button>
          </ion-col>
          <ion-col size="6">
            <ion-button
              expand="block"
              (click)="confirm()"
              [strong]="true"
            >Zapisz
            </ion-button>
          </ion-col>
        </ion-row>
      </form>
    </ion-grid>
  </ion-list>
</ion-content>
